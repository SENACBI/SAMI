<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/template.xhtml">
        <ui:define name="title"><h:outputText value="#{bundle.CreateUsuariosTitle}"></h:outputText></ui:define>
        <ui:define name="menu"><ui:include src="/Configuracion/menu_configuracion.xhtml"></ui:include></ui:define>
        <ui:define name="body">
            <div class="container">
                <section class="section-form">
                    <form jsf:id="usuarioCreateForm">

                        <label class="control-label col-md-2" value="#{bundle.CreateUsuariosLabel_idTipoDoc}" jsf:for="tipodocumentosInputText"></label> 
                        <div class="col-md-2">
                            <select class="Form-datos" jsf:id="tipodocumentosInputText" jsf:value="#{usuariosController.selected.idTipoDoc}" 
                                    required="true" size="1"
                                    jsf:requiredMessage="#{bundle.CreateUsuariosRequiredMessage_idTipoDoc}">
                                <f:selectItem itemLabel="Seleccione"/>
                                <f:selectItems value="#{tipoDocumentosController.itemsAvailableSelectOne}"
                                               var="documento"
                                               itemValue="#{documento}"/>
                                <p:ajax process="@this" update="tipodocumentosMessage"/>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <p:message id="tipodocumentosMessage" for="tipodocumentosInputText" styleClass="error"/>
                        </div>
                              
                        <label class="control-label col-md-2" value="#{bundle.CreateUsuariosLabel_idCentroFormacion}" jsf:for="centroFormacion"></label> 
                            <div class="col-md-2">
                                <p:autoComplete id="centroFormacion" value="#{usuariosController.selected.idCentroFormacion}" 
                                                completeMethod="#{usuariosController.getListCentroFormacionAutoComplete}" 
                                                var="centroFormacion" itemLabel="#{centroFormacion}" itemValue="#{centroFormacion}" 
                                                converter="centroFormacionConverter" pt:required="true"
                                                forceSelection="true" maxResults="10">

                                </p:autoComplete>
                            </div>   
                            <div class="col-md-8">
                                <p:message id="centrodeformacionMessage" for="centroFormacion"/>
                            </div>
                        
                        

                        <label class="control-label col-md-2" jsf:rendered="#{!usuariosController.contratista}" jsf:for="rol"> Rol : </label>
                        <div class="col-md-8">
                            <p:selectManyCheckbox id="rol" value="#{usuariosController.listaRoles}" layout="grid" 
                                                  converter="rolConverter"
                                                  requiredMessage="Requerido"
                                                  columns="3">  
                                <f:selectItems value="#{usuariosController.listRolSelectOne}"/>
                                <f:ajax execute="@this" render="rolMessage"/>
                            </p:selectManyCheckbox> 
                        </div>
                        <div class="col-md-2">
                            <p:message id="rolMessage" for="rol"/>
                        </div>

                        <h:outputText class="control-label col-md-2" value="Cargo:"/>
                        <div class="col-md-9">
                            <p:selectManyCheckbox id="cargo" value="#{usuariosController.listaCargo}" layout="grid" 
                                                  columns="3"
                                                  converter="cargoConverter"
                                                  requiredMessage="Requerido">
                                <f:selectItems value="#{usuariosController.listCargoSelectOne}" 
                                               var="item" itemLabel="#{item}" itemValue="#{item}" />
                                <f:ajax execute="@this" render="cargoMessage"/>
                            </p:selectManyCheckbox> 
                        </div>
                        <div class="col-md-1">
                            <p:message id="cargoMessage" for="cargo"/>
                        </div>
                        
                        <label class="control-label col-md-2" value="#{bundle.CreateUsuariosLabel_ciudad}" jsf:for="ciudad"></label>
                            <div class="col-md-2">
                                <p:autoComplete id="ciudad" value="#{usuariosController.selected.ciudad}" 
                                                required="true" requiredMessage="#{bundle.CreateUsuariosRequiredMessage_ciudad}"
                                                completeMethod="#{usuariosController.getListCiudadesAutoComplete}" 
                                                var="ciudad" itemLabel="#{ciudad}" itemValue="#{ciudad}" 
                                                converter="ciudadConverter" pt:required="true"
                                                forceSelection="true" maxResults="10">
                                    <p:ajax process="@this" update="ciudadMessage"/>
                                </p:autoComplete> 
                            </div>
                            <div class="col-md-2">
                                <p:message id="ciudadMessage" for="ciudad"/>
                            </div>
                        

                        <h:commandButton  action="#{usuariosController.create}" value="#{bundle.Save}"/>
                    </form>
                </section>
            </div>
        </ui:define>
    </ui:composition>
</html>


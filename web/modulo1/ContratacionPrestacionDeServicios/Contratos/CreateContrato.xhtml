<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <ui:composition template="/template.xhtml">
        <ui:define name="title">Crear Contrato</ui:define>
        <ui:define name="menu"><ui:include src="/modulo1/menu_modulo1.xhtml"></ui:include></ui:define>
        <ui:define name="body"> 


            <h:form id="contratoForm" >
                <p:messages id="MensajeContratos"/>
                <h1><h:outputText value="Create/Edit"/></h1>
                <h:panelGrid columns="2" id="PanelGrid">

                    <label jsf:value="#{bundle.CreateContratosLabel_idTipoContrato}" for="idTipoContrato" />
                    <h:selectOneMenu id="idTipoContrato" value="#{contratosModulo1Controller.selected.idTipoContrato}" title="IdTipoContrato" required="true" requiredMessage="#{bundle.CreateContratosRequiredMessage_idTipoContrato}">


                        <f:selectItems value="#{tipoDeContratoController.itemsAvailableSelectOne}"
                                       var="idTipoContratoItem"
                                       itemValue="#{idTipoContratoItem}"/>


                    </h:selectOneMenu>

                    <label  for="numeroDeContrato" 
                            jsf:value="#{bundle.CreateContratosLabel_numeroDeContrato}"/>
                    <input type="text" maxlength="11" jsf:id="numeroDeContrato" jsf:value="#{contratosModulo1Controller.selected.numeroDeContrato}" 
                           pattern="[0-9]*"    jsf:title="#{bundle.CreateContratosTitle_numeroDeContrato}" required="true" jsf:requiredMessage="#{bundle.CreateContratosRequiredMessage_numeroDeContrato}" ></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_fechaSuscripcion}" jsf:for="fechasuscripcion" />

                    <p:calendar  id="fechasuscripcion" 
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.fechasuscripcion}" 
                                 title="#{bundle.CreateContratosTitle_fechaSuscripcion}"
                                 showOn="button"
                                effect="fold"
                                 maxdate="#{contratosModulo1Controller.selected.fechaInicioContrato}"
                                 required="true" requiredMessage="#{bundle.CreateContratosRequiredMessage_fechaInicioContrato}">
                        <p:ajax event="dateSelect" process="@this fechaInicioContrato" update="contratoForm"/>
                        

                        <p:ajax  event="valueChange"  process="@this fechaInicioContrato" update="contratoForm"/>

                    </p:calendar>
                    <label jsf:value="#{bundle.CreateContratosLabel_fechaInicioContrato}" for="fechaInicioContrato" />
                    <p:calendar  id="fechaInicioContrato" 
                                 effect="fold"
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.fechaInicioContrato}" 
                                 title="#{bundle.CreateContratosTitle_fechaInicioContrato}"
                                 showOn="button"
                                 mindate="#{contratosModulo1Controller.selected.fechasuscripcion}"
                                 maxdate="#{contratosModulo1Controller.selected.fechaFinContrato}"
                                 required="true" requiredMessage="#{bundle.CreateContratosRequiredMessage_fechaInicioContrato}">
                        <p:ajax event="dateSelect" process="@this fechaFinContrato" update="contratoForm"/>
                        <p:ajax  event="valueChange"  process="@this fechaFinContrato" update="contratoForm"/>
                       


                    </p:calendar>

                    <label  jsf:value="#{bundle.CreateContratosLabel_fechaFinContrato}" for="fechaFinContrato" />
                    <p:calendar  id="fechaFinContrato" value="#{contratosModulo1Controller.selected.fechaFinContrato}" 
                                 title="#{bundle.CreateContratosTitle_fechaFinContrato}"
                                 pattern="yyyy-MM-dd"
                                 showOn="button"
                                 effect="fold"
                                 mindate="#{contratosModulo1Controller.selected.fechaInicioContrato}"
                                 required="true" requiredMessage="#{bundle.CreateContratosRequiredMessage_fechaFinContrato}"  >
                        <p:ajax event="dateSelect" process="@this fechaInicioContrato" update="contratoForm"/>
                       

                        <p:ajax  event="valueChange"  process="@this fechaInicioContrato" update="contratoForm"/>
                    </p:calendar>

                    <label  jsf:value="#{bundle.CreateContratosLabel_plazoDias}" for="plazoDias" />
                    <input type="text"  pattern="[0-9]*" jsf:id="plazoDias" maxlength="11" jsf:value="#{contratosModulo1Controller.selected.plazoDias}" jsf:title="#{bundle.CreateContratosTitle_plazoDias}" ></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_plazoMeses}" for="plazoMeses" />
                    <input type="text" pattern="[0-9]*" maxlength="8" 
                           jsf:id="plazoMeses" jsf:value="#{contratosModulo1Controller.selected.plazoMeses}" 
                           jsf:title="#{bundle.CreateContratosTitle_plazoMeses}" ></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_objetoContractual}" for="objetoContractual" />
                    <textarea type="text" jsf:id="objetoContractual" maxlength="500" jsf:value="#{contratosModulo1Controller.selected.objetoContractual}" jsf:title="#{bundle.CreateContratosTitle_objetoContractual}" 
                              required="true" jsf:requiredMessage="#{bundle.CreateContratosRequiredMessage_objetoContractual}"></textarea>

                    <label jsf:value="#{bundle.CreateContratosLabel_obligaciones}" for="obligaciones" />
                    <textarea type="text" jsf:id="obligaciones" maxlength="4000" jsf:value="#{contratosModulo1Controller.selected.obligaciones}" jsf:title="#{bundle.CreateContratosTitle_obligaciones}" ></textarea>

                    <label jsf:value="#{bundle.CreateContratosLabel_valorContrato}"  for="valorContrato"/> 
                    <input type="text" pattern="[0-9]*" maxlength="10" jsf:id="valorContrato"  jsf:value="#{contratosModulo1Controller.selected.valorContrato}" jsf:title="#{bundle.CreateContratosTitle_valorContrato}"></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_primerPago}" for="primerPago" />
                    <input type="text" pattern="[0-9]*" maxlength="9" jsf:id="primerPago" jsf:value="#{contratosModulo1Controller.selected.primerPago}" jsf:title="#{bundle.CreateContratosTitle_primerPago}" ></input>

                    <label  jsf:value="#{bundle.CreateContratosLabel_ultimoPago}" for="ultimoPago" />
                    <input type="text" pattern="[0-9]*" maxlength="10" jsf:id="ultimoPago" jsf:value="#{contratosModulo1Controller.selected.ultimoPago}" jsf:title="#{bundle.CreateContratosTitle_ultimoPago}" ></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_numeroDeMensualidades}" for="numeroDeMensualidades" />
                    <input type="text" pattern="[0-9]*" maxlength="8" jsf:id="numeroDeMensualidades" jsf:value="#{contratosModulo1Controller.selected.numeroDeMensualidades}" 
                           jsf:title="#{bundle.CreateContratosTitle_numeroDeMensualidades}" ></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_valorMensual}" for="valorMensual" />
                    <input type="text" pattern="[0-9]*" maxlength="9" jsf:id="valorMensual" jsf:value="#{contratosModulo1Controller.selected.valorMensual}" 
                           jsf:title="#{bundle.CreateContratosTitle_valorMensual}" />

                    <label jsf:value="#{bundle.CreateContratosLabel_fechaAnexo}" for="fechaAnexo" />
                    <p:calendar  id="fechaAnexo" 
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.fechaAnexo}" 
                                 title="#{bundle.CreateContratosTitle_fechaAnexo}"
                                 showOn="button"

                                 required="true" >                      

                    </p:calendar>

                    <label jsf:value="#{bundle.CreateContratosLabel_fechaDeAutorizacion}" for="fechaDeAutorizacion" />
                    <p:calendar  id="fechaDeAutorizacion" 
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.fechaDeAutorizacion}" 
                                 title="#{bundle.CreateContratosTitle_fechaDeAutorizacion}"
                                 showOn="button"

                                 required="true"    >                   

                    </p:calendar>

                    <label jsf:value="#{bundle.CreateContratosLabel_fechaDeEstudioPrevio}" for="fechaDeEstudioPrevio" />
                    <p:calendar  id="fechaDeEstudioPrevio" 
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.fechaDeEstudioPrevio}" 
                                 title="#{bundle.CreateContratosTitle_fechaDeEstudioPrevio}"
                                 showOn="button"

                                 required="true" >                     

                    </p:calendar>

                    <label jsf:value="#{bundle.CreateContratosLabel_fechaDeIdoneidad}" for="fechaDeIdoneidad" />
                    <p:calendar  id="fechaDeIdoneidad" 
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.fechaDeIdoneidad}" 
                                 title="#{bundle.CreateContratosTitle_fechaDeIdoneidad}"
                                 showOn="button"

                                 required="true"    >                  

                    </p:calendar>

                    <label jsf:value="#{bundle.CreateContratosLabel_adicionPresupuestal}" for="adicionPresupuestal" />
                    <input type="text" pattern="[0-9]*" maxlength="9"  jsf:id="adicionPresupuestal" jsf:value="#{contratosModulo1Controller.selected.adicionPresupuestal}" jsf:title="#{bundle.CreateContratosTitle_adicionPresupuestal}" ></input>

                    <label jsf:value="#{bundle.CreateContratosLabel_adicionPlazoNuevaFecha}" for="adicionPlazoNuevaFecha" />
                    <p:calendar  id="adicionPlazoNuevaFecha" 
                                 pattern="yyyy-MM-dd"
                                 value="#{contratosModulo1Controller.selected.adicionPlazoNuevaFecha}" 
                                 title="#{bundle.CreateContratosTitle_adicionPlazoNuevaFecha}"
                                 showOn="button"

                                 required="true"    >                   

                    </p:calendar>
                    <label jsf:value="#{bundle.CreateContratosLabel_observaciones}" for="observaciones" />
                    <textarea type="text" jsf:id="observaciones" maxlength="5000" jsf:value="#{contratosModulo1Controller.selected.observaciones}" jsf:title="#{bundle.CreateContratosTitle_observaciones}"></textarea>    

                    <label jsf:value="#{bundle.CreateContratosLabel_justificacion}"  for="justificacion" />
                    <textarea type="text" jsf:id="justificacion" maxlength="500" jsf:value="#{contratosModulo1Controller.selected.justificacion}" jsf:title="#{bundle.CreateContratosTitle_justificacion}" ></textarea>

                    <label value="#{bundle.CreateUsuariosContratosLabel_usuarios}" jsf:for="Usuario" class="FormLabelSCCSS" />
                    <p:autoComplete id="Usuario" value="#{contratosModulo1Controller.selectedUsuarios}" 
                                        required="true" requiredMessage="#{bundle.CreateUsuariosContratosRequiredMessage_usuarios}"
                                        completeMethod="#{usuariosController.getListNumeroDocumentoAutoComplete}" 
                                        var="usuario" itemLabel="#{usuario.informacionUsuario()}" itemValue="#{usuario}" 
                                    converter="usuariosConverter" 
                                    forceSelection="true" maxResults="10"/> 
                        <h:message id="UsuarioMessage" for="Usuario" />
                    
                    <label jsf:value="Usuario" for="idTipoContrato" />
                  

                    <label>Polizas</label>
                    <p:commandButton onclick="PF('PolizasDialogo').show()" value="Poliza" process="@this" update=":polizasForm" />
                </h:panelGrid>

                <h:commandButton p:class="Button-guardar" value ="#{bundle.Save}"
                                 action="#{contratosModulo1Controller.create}"/>
                <h:button p:class="Button-cancelar" value="#{bundle.Cancel}" outcome="/modulo1/ContratacionPrestacionDeServicios/Contratos/ListContrato"/>

            </h:form>
            <ui:include src="/modulo1/ContratacionPrestacionDeServicios/Contratos/CreatePolizas.xhtml" />

        </ui:define>
    </ui:composition>
</html>

